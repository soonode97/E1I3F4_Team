<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E1I3F4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        .b-example-divider {
            width: 100%;
            height: 1rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }

        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }

        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }

        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .btn-bd-primary {
            --bd-violet-bg: #712cf9;
            --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

            --bs-btn-font-weight: 600;
            --bs-btn-color: var(--bs-white);
            --bs-btn-bg: var(--bd-violet-bg);
            --bs-btn-border-color: var(--bd-violet-bg);
            --bs-btn-hover-color: var(--bs-white);
            --bs-btn-hover-bg: #6528e0;
            --bs-btn-hover-border-color: #6528e0;
            --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
            --bs-btn-active-color: var(--bs-btn-hover-color);
            --bs-btn-active-bg: #5a23c8;
            --bs-btn-active-border-color: #5a23c8;
        }

        .bd-mode-toggle {
            z-index: 1500;
        }

        .bd-mode-toggle .dropdown-menu .active .bi {
            display: block !important;
        }

        ul {
            text-align: center;
        }

        .v_line {
            border-left: thick solid gray;
            border-color: gray;
            height: 310px;
            margin-top: 20px;
        }

        .nameTextFont {
            font-size: 25px;
        }

        .introTextFont {
            font-size: 15px;
        }

        .customimageSize {
            width: 300px;
            height: 300px;
            object-fit: fill;
            margin-left: 20px;
        }

        .popuppage {
            display: none;
            width: 1200px;
            height: 800px;
            background-image: url('https://photo.coolenjoy.co.kr/bbs/data/26/1237998351/1.jpg');
            background-size: cover;
            position: absolute;
            top: 50px;
            left: 300px;
            z-index: 1001;
            overflow: auto;
            border-radius: 5%;
        }

        .nav-pills.flex-column {
            display: flex;
            flex-direction: column;
            height: 100vh;
            justify-content: center;
        }

        .nav-pills .nav-item {
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: center;
        }
    </style>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getStorage, ref, uploadString, getDownloadURL } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js';

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyB9HJvVGqIT-q9O_98bLmPkJcnB6VYkVks",
            authDomain: "e1i3f4-5cb7b.firebaseapp.com",
            projectId: "e1i3f4-5cb7b",
            storageBucket: "e1i3f4-5cb7b.appspot.com",
            messagingSenderId: "416738809409",
            appId: "1:416738809409:web:fcfca343f2c00460de98c0",
            measurementId: "G-WSM2VS15FC"
        };

        // ê° ë©¤ë²„ ììœ ì–‘ì‹ ì´ˆê¸°í™”
        let html_soobin = ``;
        let html_NSHkw = ``;
        let html_kyheon = ``;
        let html_seunjun = ``;

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const storage = getStorage(app);

        let docs = await getDocs(collection(db, "MemberInfo"));
        //let arr = docs.lenghí¬ê¸°ë§Œí¼ ë°°ì—´
        //console.log(docs.d) 'userID' 'html'
        let row;

        let testDetailInfo = `
            <div id="popup" class="popuppage">
                <div class="row d-flex">
                    <div class="col-4 d-flex flex-column p-5">
                        <img src="https://upload.wikimedia.org/wikipedia/ko/thumb/4/4a/%EC%8B%A0%EC%A7%B1%EA%B5%AC.png/230px-%EC%8B%A0%EC%A7%B1%EA%B5%AC.png"
                            alt="..." class="img-thumbnail rounded-3" style="width: 400px;height: 400px;">
                        <div class="row py-3">
                            <dd class="col-6 pt-3" style="font-size:30px;text-align: center;">Name</dd>
                            <dt class="col-6 pt-3" style="font-size:30px;text-align: center;">ê¶Œì˜í˜„</dt>
                            <hr style="color:yellow;width: 3;">
                            <dd class="col-sm-6 pt-3" style="font-size:30px;text-align: center;">MBTI</dd>
                            <dt class="col-sm-6 pt-3" style="font-size:30px;text-align: center;">ISFP</dt>
                            <hr style="color:royalblue">
                            <p style="font-size:20px; font-weight: bold;text-align: center;">
                                ì•ˆë…•í•˜ì„¸ìš”. ê¶Œì˜í˜„ì´ë¼ê³  í•©ë‹ˆë‹¤. <br> ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                    <div class="col-1 v_line px-0" style="width:30px"></div>
                    <div class="col-6 py-5">
                        <div class="accordion" id="accordionPanelsStayOpenExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                        aria-controls="panelsStayOpen-collapseOne">
                                        ë‚˜ë§Œì˜ ê°•ì  : ë›°ì–´ë‚œ ëª°ì…ë ¥
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        ì–´ë– í•œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì„ ë•Œ, ì˜¤ë¡œì§€ ê·¸ ë¬¸ì œì—ë§Œ ì§‘ì¤‘ê³¼ ëª°ì…ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ê²°í•˜ê¸° ì „ê¹Œì§€ ê³„ì† ë¨¸ë¦¿ì†ì— ë§´ëŒê³  ìˆì–´ ì–´ë–»ê²Œë“ 
                                        ìê·¸ë§Œí•œ
                                        ì‹¤ë§ˆë¦¬ê°€
                                        ë³´ì¼ë•Œê¹Œì§€
                                        ì¡ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì ì´ ì•ìœ¼ë¡œ ê°œë°œí•˜ëŠ”ë° í° ê°•ì ìœ¼ë¡œ ë‹¤ê°€ì˜¬ ê²ƒì´ë¼ê³  í™•ì‹ í•©ë‹ˆë‹¤.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                                        aria-controls="panelsStayOpen-collapseTwo">
                                        í˜‘ì—… ìŠ¤íƒ€ì¼ : ë°°ë ¤, ì¡´ì¤‘, í™”ëª©
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        ì €ëŠ” ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ê³¼ ì›ë§Œí•˜ê²Œ ì§€ë‚¼ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ìƒëŒ€ë°©ë“¤ì˜ ì˜ê²¬ì„ ê²½ì²­í•˜ê³ , ì„œë¡œ ì˜ê²¬ì´ ë‹¤ë¥¼ ì‹œ ìµœëŒ€í•œ íš¨ìœ¨ì ì¸
                                        í•©ì˜ì ì„ ì°¾ê³ ì ë…¸ë ¥í•©ë‹ˆë‹¤. ì•ìœ¼ë¡œë„ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ íŒ€ì›ë“¤ê³¼ ê°ˆë“± ì—†ì´ í™”ëª©í•˜ê²Œ ì§€ë‚´ê³  ì‹¶ìŠµë‹ˆë‹¤!
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
                                        aria-controls="panelsStayOpen-collapseThree">
                                        ì·¨ë¯¸ : ê²Œì„
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        ìš”ì¦˜ ì œê°€ ì œì¼ ì¬ë°Œê²Œ í•˜ê³  ìˆëŠ” ê²Œì„ì€ PUBGì˜ 'BATTLE GROUND'ì…ë‹ˆë‹¤. í•œíŒí•œíŒ ìµœí›„ì˜ ìƒì¡´ìë¡œ ë‚¨ì•„ ì¹˜í‚¨ì„ ëœ¯ê¸° ìœ„í•´
                                        í”Œë ˆì´í•˜ëŠ”
                                        ê³¼ì •ì´
                                        ëŠ˜ ìƒˆë¡­ê³  ì§œë¦¿í•©ë‹ˆë‹¤.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 d-flex justify-content-end align-items-end">
                        <button id="closeBtn_kyheon" class="btn btn-primary btn-sm p-3 m-3 rounded-pill"
                            type="button">close</button>
                    </div>
                </div>
            </div>
            `;

        var detailPopupInfoArr = {};
        // detailPopupInfoArr['kyheon'] = testDetailInfo;

        docs.forEach(async (doc) => {
            row = doc.data();
            console.log(row);

            const name = row['name'];
            const mbti = row['mbti'];
            const introText = row['introText'];
            const gitUrl = row['gitUrl'];
            const blogUrl = row['blogUrl']
            const userID = row['userID'];

            const imageFileURL = "members/" + userID + ".png";
            const imageUrl = await getDownloadURL(ref(storage, imageFileURL));
            const response = await fetch(imageUrl);
            const blob = await response.blob();
            const image = URL.createObjectURL(blob);

            // ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ì— ì¶œë ¥ë˜ëŠ” ì¹´ë“œ ì–‘ì‹
            const memberCardInfo = `
            <div class="container my-5">
                <div class="p-1 text-center bg-body-tertiary rounded-3">
                    <div class="row">
                        <div class="col-3 d-flex justify-content-start p-4">
                            <img src="${image}"
                                alt="..." class="img-thumbnail customimageSize">
                        </div>
                        <div class="col-1 v_line px-0" style="width:30px"></div>
                        <div class="col-6 d-flex justify-content-end py-4">
                            <dl class="row" style="text-align:left;">
                                <dt class="col-sm-4 nameTextFont">Name</dt>
                                <dd class="col-sm-8 nameTextFont">${name}</dd>
                                <hr style="color:gray">
                                <dt class="col-sm-4 nameTextFont">MBTI</dt>
                                <dd class="col-sm-8 nameTextFont">${mbti}</dd>
                                <hr style="color:gray">
                                <dt class="col-sm-4 introTextFont">ê°„ë‹¨í•œ ìê¸°ì†Œê°œ</dt>
                                <dd class="col-sm-8 introTextFont">${introText}
                                </dd>
                            </dl>
                        </div>
                        <div class="col-2 d-flex justify-content-between flex-column align-items-center gap-2 p-3">
                            <a href="${gitUrl}" height="5" width="10" target="_blank">
                                <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" 
                                alt="GitHub" style="width: 100px;height: 100px;">
                            </a>
                            <a href="${blogUrl}" height="5" width="10" target="_blank">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Eo_circle_green_letter-b.svg/120px-Eo_circle_green_letter-b.svg.png?20200417132604" 
                                alt="Blog" style="width: 100px;height: 100px;">
                            </a>
                            <button id="moreInfoBtn_${userID}"
                                class="d-flex justify-content-end align-items-end btn btn-primary btn-lg p-3 rounded-pill"
                                type="button">
                                more info
                                <svg class="bi ms-2" width="24" height="24">
                                    <use xlink:href="#arrow-right-short"></use>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="b-example-divider"></div>`;
            $('#memberCard').append(memberCardInfo);

            // $('#popupgroup').append(testDetailInfo);

            // ìˆ˜ë¹ˆ ì¹´ë“œ ì–‘ì‹
            if (userID === 'soobin951') {
                html_soobin = `<div class="row d-flex" style="margin:50px;">
            <div class="row d-flex">
                <h1 style="
            caret-color: rgb(55, 53, 47);
            font-size: 25px;
            font-weight: inherit;"> ì•ˆë…•í•˜ì„¸ìš” ìœ¤ìˆ˜ë¹ˆì…ë‹ˆë‹¤!
                </h1>
            </div>
            <div class="row d-flex" style="margin-top:10px;">
                <img src="${image}"
                    style="width: 340px; height: 453px; margin-top:10px;">
                <div class="col-7 d-flex flex-column" style="margin-left:10px;">
                    <ul style="font-size: 20px; text-align: left;">
                        ğŸ“§ Email <br> soonode951@gmali.com
                    </ul>
                    <ul style="font-size: 20px; text-align: left;">
                        ğŸ˜† Favortie <br>
                        <div class="d-flex flex-row" style="width:100%;">
                            <figure style="margin:5px;">
                                <img src=""
                                    alt="Image 1" style="max-width: 100%; height: auto; border: 1px solid #cfcfcf;">
                                <figcaption style="font-size: 15px; color:#1f1f1f; text-align: center;">ê²Œì„</figcaption>
                            </figure>
                            <figure style="margin:5px;">
                                <img src=""
                                    alt="Image 1" style="max-width: 100%; height: auto; border: 1px solid #cfcfcf;">
                                <figcaption style="font-size: 15px; color:#1f1f1f; text-align: center;">ìš”ë¦¬</figcaption>
                            </figure>
                            <figure style="margin:5px;">
                                <img src="" alt="Image 1"
                                    style="max-width: 100%; height: auto; border: 1px solid #cfcfcf;">
                                <figcaption style="font-size: 15px; color:#1f1f1f; text-align: center;">ë™ë¬¼</figcaption>
                            </figure>
                        </div>
                    </ul>
                    <ul style="font-size: 20px; text-align: left;">
                        ğŸ™Œ ì†Œê°œ <br>
                        <div style="border:1px; border-color: #1f1f1f;">ì¥ë¥´ êµ¬ë¶„ì—†ì´ ê²Œì„ì„ ì¦ê²¨ í•©ë‹ˆë‹¤. ì·¨ë¯¸ë¡œ ìš”ë¦¬í•˜ëŠ” ê²ƒì„ ì¦ê²¨í•˜ê³  íŠ¹íˆ ì£¼ë§ ì „ì—ëŠ”
                            ë§›ìˆëŠ” ìš”ë¦¬ì™€ í•¨ê»˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í•´ì†Œí•˜ëŠ”ê±¸ ì¢‹ì•„í•©ë‹ˆë‹¤!
                            ê°œë°œ ê²½í—˜ì€ ë¶€ì¡±í•˜ì§€ë§Œ ì—´ì‹¬íˆ ë°°ì›Œì„œ ë”°ë¼ê°€ê² ìŠµë‹ˆë‹¤. </div>
                    </ul>
                </div>
            </div>
            <div class="row-1 d-flex justify-content-end">
                <button id="closeBtn" class="btn btn-primary btn-sm p-3 m-3 rounded-pill" type="button">close</button>
            </div>
        </div>`;
            }
            else if (userID === 'NSHkw') {
                html_NSHkw = ` `;
            }
            else if (userID === 'kyheon') {
                html_kyheon = ` `;
            }
            else if (userID === 'seunjun') {
                html_seunjun = ` `;
            }
        });

        $(document).on("click", "#moreInfoBtn_NSHkw", function () {
            $("#popup").html(html_NSHkw).show();
        });

        $(document).on("click", "#moreInfoBtn_soobin951", function () {
            $("#popup").html(html_soobin).show();
        });

        $(document).on("click", "#moreInfoBtn_kyheon", function () {
            $("#popup").html(html_seunjun).show();
        });

        $(document).on("click", "#closeBtn", function () {
            $("#popup").hide();

        });
    </script>
</head>

<body>
    <div class="d-flex" style="height:100vh">
        <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px;height:100%">
            <div class="d-flex justify-content-center" style="width: 100%; font-size: 50px; font-family:Dancing Script, cursive;">
                E1I3F4
            </div>
            <hr>
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="nav-item">
                    <a href="home.html" class="nav-link link-dark" aria-current="page">
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a href="members.html" class="nav-link active">
                        Members
                    </a>
                </li>
                <li class="nav-item">
                    <a href="join.html" class="nav-link link-dark">
                        Join
                    </a>
                </li>
                <li class="nav-item">
                    <a href="guest_books.html" class="nav-link link-dark">
                        Guest's Book
                    </a>
                </li>
            </ul>
            <hr>
            <div class="dropdown">
                <img src="https://pds.saramin.co.kr/company/logo/202203/10/r8irhx_27rz-iuruh_logo.png" alt="" width="32" height="32" class="rounded-circle me-2">
                <strong>Sparta NodeJS 6ê¸°</strong>
                </a>
            </div>
        </div>
        <div id="memberCard" class="flex-grow-1 p-3">
            <div class="container my-5">
                <div class="p-1 text-center bg-body-tertiary rounded-3">
                    <div class="row">
                        <div class="col-3 d-flex justify-content-start p-4">
                            <img src="https://upload.wikimedia.org/wikipedia/ko/thumb/4/4a/%EC%8B%A0%EC%A7%B1%EA%B5%AC.png/230px-%EC%8B%A0%EC%A7%B1%EA%B5%AC.png"
                                alt="..." class="img-thumbnail customimageSize">
                        </div>
                        <div class="col-1 v_line px-0" style="width:30px"></div>
                        <div class="col-6 d-flex justify-content-end py-4">
                            <dl class="row" style="text-align:left;">
                                <dt class="col-sm-4 nameTextFont">Name</dt>
                                <dd class="col-sm-8 nameTextFont">ì§±êµ¬</dd>
                                <hr style="color:gray">
                                <dt class="col-sm-4 nameTextFont">MBTI</dt>
                                <dd class="col-sm-8 nameTextFont">ESTP</dd>
                                <hr style="color:gray">
                                <dt class="col-sm-4 introTextFont">ê°„ë‹¨í•œ ìê¸°ì†Œê°œ</dt>
                                <dd class="col-sm-8 introTextFont">ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~
                                    ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~ ì§±êµ¬ëŠ” ëª»ë§ë ¤~
                                </dd>
                            </dl>
                        </div>
                        <div class="col-2 d-flex justify-content-between flex-column align-items-center gap-2 p-3">
                            <a href="https://github.com/DudeKYH" height="5" width="10" target="_blank">
                                <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" alt="GitHub"
                                    style="width: 100px;height: 100px;">
                            </a>
                            <a href="https://velog.io/@kyheon/posts" height="5" width="10" target="_blank">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Eo_circle_green_letter-b.svg/120px-Eo_circle_green_letter-b.svg.png?20200417132604"
                                    alt="Blog" style="width: 100px;height: 100px;">
                            </a>
                            <button id="moreInfoBtn"
                                class="d-flex justify-content-end align-items-end btn btn-primary btn-lg p-3 rounded-pill"
                                type="button">
                                more info
                                <svg class="bi ms-2" width="24" height="24">
                                    <use xlink:href="#arrow-right-short"></use>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="b-example-divider"></div>
        </div>
        <div id="popupGroup">
            <div id="popup" class="popuppage">
            </div>
        </div>
    </div>

</body>